# SFMC Toolkit Labs - Multi-Tenant Environment Configuration
# 
# APP-LEVEL SECRETS ONLY - Never store customer credentials here!
# Customer MC credentials are stored per-tenant in encrypted database

# Application Security (REQUIRED)
ENCRYPTION_KEY=abcdef1234567890abcdef1234567890
SESSION_SECRET=session_secret_1234567890abcdef123

# Database Configuration (REQUIRED)
# For development: Use local PostgreSQL or SQLite
# For production: Use hosted PostgreSQL (Heroku Postgres, Railway, etc.)
DATABASE_URL=sqlite://./database/sfmc_toolkit_labs.sqlite

# Application Configuration
NODE_ENV=development
PORT=3001
BASE_URL=http://localhost:3001

# OAuth Configuration (REQUIRED)
DEFAULT_REDIRECT_URI=http://localhost:3001/auth/callback
DEFAULT_SCOPE=email_read email_write email_send web_read web_write data_extensions_read data_extensions_write journeys_read automations_read

# Optional: Session Storage (recommended for production)
# REDIS_URL=redis://localhost:6379

# Logging
LOG_LEVEL=info

# Feature Flags
ENABLE_MULTI_TENANT=true
REQUIRE_OAUTH_SETUP=true

# Multi-Tenant Setup Instructions:
# 1. Copy this file to .env.local: cp .env.example .env.local
# 2. Set up PostgreSQL database and update DATABASE_URL
# 3. Generate secure ENCRYPTION_KEY and SESSION_SECRET (32+ chars each)
# 4. Each customer creates their own Connected App in MC Setup
# 5. Register customer configs via /auth/admin/register-config endpoint
# 6. Customers access via /auth/start/{their_subdomain}
